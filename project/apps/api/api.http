# ================================================ #
#                   GENERAL SETTING                #
# ================================================ #

@host = 127.0.0.1
@port = 4000
@baseUrl = http://{{host}}:{{port}}/api/auth

# ================================================ #
#                  Authentication                  #
# ================================================ #

#Test Request to JSON Placeholder
GET https://jsonplaceholder.typicode.com/todos/1 HTTP/1.1
Content-Type: application/json
###

# Create new user
POST {{baseUrl}}/register/ HTTP/1.1
Content-Type: application/json

{
  "email": "walton-goggins@hollywood.io",
  "login": "walton-goggins",
  "avatar": "https://upload.wikimedia.org/wikipedia/commons/thumb/f/f9/Walton_Goggins_by_Gage_Skidmore.jpg/220px-Walton_Goggins_by_Gage_Skidmore.jpg",
  "password": "123456"
}

###

# Login user
POST  {{baseUrl}}/login/ HTTP/1.1
Content-Type: application/json

{
  "email": "walton-goggins@hollywood.io",
  "password": "123456"
}
###

# Get user by ID
GET {{baseUrl}}/b7b796ea-718c-40cc-bb8e-50da38e14a7d HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiN2I3OTZlYS03MThjLTQwY2MtYmI4ZS01MGRhMzhlMTRhN2QiLCJlbWFpbCI6IndhbHRvbi1nb2dnaW5zQGhvbGx5d29vZC5pbyIsImxvZ2luIjoid2FsdG9uLWdvZ2dpbnMiLCJpYXQiOjE3MTc3NTI3MzIsImV4cCI6MTcxNzc1NDUzMn0.jSftbKlBUBpJUfLt-F_rOTDfsXhg-iD-gJ_N1KNraVU

###

# Check JWT Token & get token payload
POST {{baseUrl}}/check/ HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiN2I3OTZlYS03MThjLTQwY2MtYmI4ZS01MGRhMzhlMTRhN2QiLCJlbWFpbCI6IndhbHRvbi1nb2dnaW5zQGhvbGx5d29vZC5pbyIsImxvZ2luIjoid2FsdG9uLWdvZ2dpbnMiLCJpYXQiOjE3MTc3NTI3MzIsImV4cCI6MTcxNzc1NDUzMn0.jSftbKlBUBpJUfLt-F_rOTDfsXhg-iD-gJ_N1KNraVU

###

# Get new JWT pair
# POST http://localhost:4000/api/auth/refresh HTTP/1.1
# Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIiLCJlbWFpbCI6InVzZXJAbm90Zm91bmQubG9jYWwiLCJsb2dpbiI6Iktla3MgU21pdGgiLCJpYXQiOjE3MTUyODE3ODcsImV4cCI6MTcxNzg3Mzc4N30.VOhXns6EnQCuD6cgeT-829fEf4RR6YvOe0GFiJf-oaI


# ================================================ #
#                       Shop                       #
# ================================================ #

###

# Get all posts
# GET http://localhost:3000/api/posts HTTP/1.1

###

# Get posts with filter

# GET http://localhost:3000/api/posts?limit=2&sortDirection=desc&categories[]=39614113-7ad5-45b6-8093-06455437e1e2&page=1 HTTP/1.1

###

# Get post by id
# GET http://localhost:3000/api/posts/0eb6c19a-962c-4fc7-9106-7d46b09aaab8z HTTP/1.1

###

# Create a new post
# POST http://localhost:3000/api/posts HTTP/1.1
# Content-Type: application/json

# {
#   "title": "Hello world 31337!",
#   "description": "Текст анонса",
#   "content": "Расширенный текст публикации",
#   "userId": "658ede7600f80970fcf9e111",
#   "categories": ["39614113-7ad5-45b6-8093-06455437e1e2"]
# }

###

# Delete the post by id
# DELETE http://localhost:3000/api/posts/0549e0e7-ad8c-43b8-aa35-507ba547d743 HTTP/1.1

###

# Update post by id
# PATCH http://localhost:3000/api/posts/0eb6c19a-962c-4fc7-9106-7d46b09aaab8 HTTP/1.1
# Content-Type: application/json

# {
#   "title": "Как дела",
#   "description": "И вновь привет"
# }

###
